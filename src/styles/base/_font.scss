// src/styles/_local-fonts.scss
// DEFINES FONT FILES: Local Variable Fonts using @font-face
// This is the stable solution to prevent Next.js Server Component crashes 
// caused by the dynamic JS injection of next/font/google.

// All weights (100-900) are assumed to be present in the Variable Font files.

// --- 1. Noto Sans (Latin) - Regular Style ---
@font-face {
  font-family: 'Noto Sans Local';
  font-style: normal;
  font-weight: 100 900; 
  src: url('/fonts/NotoSans-VariableFont_wdth,wght.woff2') format('woff2-variations'); 
  font-display: swap;
  // Optional: Add unicode-range for Latin characters to optimize loading
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

// --- 2. Noto Sans (Latin) - Italic Style ---
@font-face {
  font-family: 'Noto Sans Local';
  font-style: italic;
  font-weight: 100 900; 
  src: url('/fonts/NotoSans-Italic-VariableFont_wdth,wght.woff2') format('woff2-variations');
  font-display: swap;
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

// --- 3. Noto Sans SC (Simplified Chinese) ---
@font-face {
  font-family: 'Noto Sans SC Local';
  font-style: normal;
  font-weight: 100 900; 
  src: url('/fonts/NotoSansSC-VariableFont_wght.woff2') format('woff2-variations');
  font-display: swap;
  // Unicode range for Simplified Chinese
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+20000-2A6DF, U+2A700-2B73F, U+2B740-2B81F, U+2B820-2CEAF, U+F900-FAFF, U+2F800-2FA1F;
}

// --- 4. Noto Sans TC (Traditional Chinese) ---
@font-face {
  font-family: 'Noto Sans TC Local';
  font-style: normal;
  font-weight: 100 900; 
  src: url('/fonts/NotoSansTC-VariableFont_wght.woff2') format('woff2-variations');
  font-display: swap;
  // Unicode range for Traditional Chinese (same as SC but good to be explicit)
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+20000-2A6DF, U+2A700-2B73F, U+2B740-2B81F, U+2B820-2CEAF, U+F900-FAFF, U+2F800-2FA1F;
}

// --- 5. Noto Sans Thai (Thai) ---
@font-face {
  font-family: 'Noto Sans Thai Local';
  font-style: normal;
  font-weight: 100 900; 
  src: url('/fonts/NotoSansThai-VariableFont_wdth,wght.woff2') format('woff2-variations');
  font-display: swap;
  // Unicode range for Thai
  unicode-range: U+0E00-0E7F;
}

// Fallback chain optimization
$font-noto-sans: 'Noto Sans Local', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
$font-noto-sans-sc: 'Noto Sans SC Local', $font-noto-sans;
$font-noto-sans-tc: 'Noto Sans TC Local', $font-noto-sans;
$font-noto-sans-thai: 'Noto Sans Thai Local', $font-noto-sans;

// Base font settings
$font-size-base: 16px;
$font-size-chinese: 16px;
$font-size-thai: 16px;
$line-height-base: 1.6;
$line-height-heading: 1.3;
$line-height-chinese: 1.6;
$line-height-thai: 1.6;

// Font weights (These map to the 100-900 range in your variable fonts)
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

// Font families for specific uses
$font-latin: $font-noto-sans;
$font-chinese-simplified: $font-noto-sans-sc;
$font-chinese-traditional: $font-noto-sans-tc;
$font-thai: $font-noto-sans-thai;
$font-multilingual: $font-noto-sans; // Base font for the entire site
$font-family-heading: $font-noto-sans;

// Font classes
.font-latin {
  font-family: $font-latin;
}

.font-chinese-simplified {
  font-family: $font-chinese-simplified;
  font-size: $font-size-chinese;
  line-height: $line-height-chinese;
}

.font-chinese-traditional {
  font-family: $font-chinese-traditional;
  font-size: $font-size-chinese;
  line-height: $line-height-chinese;
}

.font-thai {
  font-family: $font-thai;
  font-size: $font-size-thai;
  line-height: $line-height-thai;
}

.font-multilingual {
  font-family: $font-multilingual;
}

// Font weight utilities
.font-normal { font-weight: $font-weight-normal; }
.font-medium { font-weight: $font-weight-medium; }
.font-semibold { font-weight: $font-weight-semibold; }
.font-bold { font-weight: $font-weight-bold; }

// Language attribute styling (Crucial for multilingual support)
// The correct font is loaded based on the 'lang' attribute on the HTML or body tag
[lang="en"],
[lang="en-US"] {
  font-family: $font-latin;
}

[lang^="zh-Hans"], // Matches zh-Hans, zh-Hans-CN, etc.
[lang="zh-CN"] {
  font-family: $font-chinese-simplified;
  font-size: $font-size-chinese;
  line-height: $line-height-chinese;
}

[lang^="zh-Hant"], // Matches zh-Hant, zh-Hant-TW, etc.
[lang="zh-TW"],
[lang="zh-HK"] {
  font-family: $font-chinese-traditional;
  font-size: $font-size-chinese;
  line-height: $line-height-chinese;
}

[lang^="th"] { // Matches th, th-TH, etc.
  font-family: $font-thai;
  font-size: $font-size-thai;
  line-height: $line-height-thai;
}